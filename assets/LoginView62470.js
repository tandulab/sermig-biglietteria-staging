import{d as h,o as x,u as g,a as y,c as V,_ as L,r as o,b as v,e as P,f as e,w as m,g as n,h as S}from"../index62470.js";import{c as B,a as f,L as C}from"./index.esm62470.js";import{I as W}from"./InputTextWithValidation62470.js";import{P as $}from"./PasswordWithValidation62470.js";import{F as k}from"./vee-validate.esm62470.js";import{u as F,e as I}from"./helpers62470.js";const T=h({name:"LoginView",setup(){x(()=>{s.clearUser()});const s=g(),t=y(),{showLoader:d,hideLoader:r}=F(),p=B({email:f().required().email().label("Email obbligatoria"),password:f().required().label("Password obbligatoria")}),u=V(()=>s.user);return{schema:p,currentUser:u,onSubmit:async function(a,i){const c={email:a.email,password:a.password};d(),await s.login(c).then(async()=>{r(),i.resetForm()}).catch(l=>{r(),I(t,l)})}}},components:{Logo:C,InputTextWithValidation:W,PasswordWithValidation:$,Form:k}});const E={class:"flex justify-content-center align-items-center h-screen mt-0 login"},U={class:"m-2 text-center"},N={class:"w-full flex justify-content-start cursor-pointer text-color-secondary m-0"};function j(s,t,d,r,p,u){const _=o("Logo"),a=o("InputTextWithValidation"),i=o("PasswordWithValidation"),c=o("router-link"),l=o("Button"),w=o("Form"),b=o("Card");return v(),P("div",E,[e(b,{class:"py-4 px-3"},{content:m(()=>[n("div",U,[e(_)]),t[1]||(t[1]=n("h1",{class:"mb-3 mt-0 text-center"},"Accedi al profilo",-1)),t[2]||(t[2]=n("h2",{class:"text-center font-normal mb-3"}," Benvenuto! Inserisci la tua email e la password ",-1)),e(w,{"validation-schema":s.schema,onSubmit:s.onSubmit,class:"flex flex-column"},{default:m(()=>[e(a,{name:"email",label:"Email",type:"text"}),e(i,{name:"password",label:"Password",type:"password"}),n("div",N,[e(c,{to:"/password-dimenticata",class:"text-color-secondary"},{default:m(()=>t[0]||(t[0]=[S("Password dimenticata?",-1)])),_:1,__:[0]})]),e(l,{label:"Entra",type:"submit",class:"mt-5 mb-3"})]),_:1},8,["validation-schema","onSubmit"])]),_:1})])}const H=L(T,[["render",j]]);export{H as default};
